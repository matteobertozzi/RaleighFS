/* File autogenerated, do not edit */

#include <zcl/string.h>
#include "stats.h"

int rpc_rusage_parse (struct rpc_rusage *msg, void *reader) {
    uint16_t field_id;
    uint64_t length;
    z_memzero(msg->rusage_fields_bitmap, 2);
    while (z_reader_decode_field(reader, &field_id, &length) > 0) {
        switch (field_id) {
            case 1: /* uint64 utime */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->utime)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 0);
                break;
            case 2: /* uint64 stime */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->stime)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 1);
                break;
            case 3: /* uint64 maxrss */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->maxrss)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 2);
                break;
            case 4: /* uint64 minflt */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->minflt)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 3);
                break;
            case 5: /* uint64 majflt */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->majflt)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 4);
                break;
            case 6: /* uint64 inblock */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->inblock)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 5);
                break;
            case 7: /* uint64 oublock */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->oublock)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 6);
                break;
            case 8: /* uint64 nvcsw */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->nvcsw)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 7);
                break;
            case 9: /* uint64 nivcsw */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->nivcsw)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 8);
                break;
            case 10: /* uint64 iowait */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->iowait)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 9);
                break;
            case 11: /* uint64 ioread */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->ioread)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 10);
                break;
            case 12: /* uint64 iowrite */
                /* TODO: Check if the size is allowed by the type */
                if (z_reader_decode_uint64(reader, length, &(msg->iowrite)))
                    return(-1);
                z_bit_set(msg->rusage_fields_bitmap, 11);
                break;
            default:
                if (z_reader_skip(reader, length))
                    return(-1);
                break;
        }
    }
    return(0);
}

static uint8_t *__rpc_write_uint64 (uint8_t *buf, uint16_t field_id, uint64_t value) {
    unsigned length = z_uint64_bytes(value);
    int elen = z_encode_field(buf, field_id, length); buf += elen;
    z_encode_uint64(buf, length, value); buf += length;
    return(buf);
}


uint8_t *rpc_rusage_write_utime (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 1, value));
}

uint8_t *rpc_rusage_write_stime (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 2, value));
}

uint8_t *rpc_rusage_write_maxrss (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 3, value));
}

uint8_t *rpc_rusage_write_minflt (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 4, value));
}

uint8_t *rpc_rusage_write_majflt (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 5, value));
}

uint8_t *rpc_rusage_write_inblock (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 6, value));
}

uint8_t *rpc_rusage_write_oublock (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 7, value));
}

uint8_t *rpc_rusage_write_nvcsw (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 8, value));
}

uint8_t *rpc_rusage_write_nivcsw (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 9, value));
}

uint8_t *rpc_rusage_write_iowait (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 10, value));
}

uint8_t *rpc_rusage_write_ioread (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 11, value));
}

uint8_t *rpc_rusage_write_iowrite (uint8_t *buf, uint64_t value) {
    return(__rpc_write_uint64(buf, 12, value));
}


#define __rpc_dump_uint64(stream, field)    fprintf(stream, "%lu", field)

void rpc_rusage_dump (FILE *stream, const struct rpc_rusage *msg) {
    fprintf(stream, "rpc_rusage {");
    fprintf(stream, "\n    1: uint64 utime = ");
    if (rpc_rusage_has_utime(msg)) {
        __rpc_dump_uint64(stream, msg->utime);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    2: uint64 stime = ");
    if (rpc_rusage_has_stime(msg)) {
        __rpc_dump_uint64(stream, msg->stime);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    3: uint64 maxrss = ");
    if (rpc_rusage_has_maxrss(msg)) {
        __rpc_dump_uint64(stream, msg->maxrss);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    4: uint64 minflt = ");
    if (rpc_rusage_has_minflt(msg)) {
        __rpc_dump_uint64(stream, msg->minflt);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    5: uint64 majflt = ");
    if (rpc_rusage_has_majflt(msg)) {
        __rpc_dump_uint64(stream, msg->majflt);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    6: uint64 inblock = ");
    if (rpc_rusage_has_inblock(msg)) {
        __rpc_dump_uint64(stream, msg->inblock);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    7: uint64 oublock = ");
    if (rpc_rusage_has_oublock(msg)) {
        __rpc_dump_uint64(stream, msg->oublock);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    8: uint64 nvcsw = ");
    if (rpc_rusage_has_nvcsw(msg)) {
        __rpc_dump_uint64(stream, msg->nvcsw);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n    9: uint64 nivcsw = ");
    if (rpc_rusage_has_nivcsw(msg)) {
        __rpc_dump_uint64(stream, msg->nivcsw);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n   10: uint64 iowait = ");
    if (rpc_rusage_has_iowait(msg)) {
        __rpc_dump_uint64(stream, msg->iowait);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n   11: uint64 ioread = ");
    if (rpc_rusage_has_ioread(msg)) {
        __rpc_dump_uint64(stream, msg->ioread);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n   12: uint64 iowrite = ");
    if (rpc_rusage_has_iowrite(msg)) {
        __rpc_dump_uint64(stream, msg->iowrite);
    } else {
        fprintf(stream, "MISSING");
    }
    fprintf(stream, "\n}\n");
}

